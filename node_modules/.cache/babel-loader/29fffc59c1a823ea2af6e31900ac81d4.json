{"ast":null,"code":"import { addUniqueItem, removeItem } from '@motionone/utils';\nvar scheduled = undefined;\nfunction processScheduledAnimations() {\n  if (!scheduled) return;\n  var generators = scheduled.sort(compareByDepth).map(fireAnimateUpdates);\n  generators.forEach(fireNext);\n  generators.forEach(fireNext);\n  scheduled = undefined;\n}\nfunction scheduleAnimation(state) {\n  if (!scheduled) {\n    scheduled = [state];\n    requestAnimationFrame(processScheduledAnimations);\n  } else {\n    addUniqueItem(scheduled, state);\n  }\n}\nfunction unscheduleAnimation(state) {\n  scheduled && removeItem(scheduled, state);\n}\nvar compareByDepth = function compareByDepth(a, b) {\n  return a.getDepth() - b.getDepth();\n};\nvar fireAnimateUpdates = function fireAnimateUpdates(state) {\n  return state.animateUpdates();\n};\nvar fireNext = function fireNext(iterator) {\n  return iterator.next();\n};\nexport { scheduleAnimation, unscheduleAnimation };","map":null,"metadata":{},"sourceType":"module"}