{"ast":null,"code":"import _objectSpread from \"/Users/maniksoomro/Documents/LiquidPrep-Website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/maniksoomro/Documents/LiquidPrep-Website/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport { __publicField, getNextIndex, getPrevIndex, isElement, sortNodes } from \"./chunk-N7WDF4QK.mjs\";\n\n// src/descendant.ts\nvar DescendantsManager = function DescendantsManager() {\n  var _this = this;\n  _classCallCheck(this, DescendantsManager);\n  __publicField(this, \"descendants\", /* @__PURE__ */new Map());\n  __publicField(this, \"register\", function (nodeOrOptions) {\n    if (nodeOrOptions == null) return;\n    if (isElement(nodeOrOptions)) {\n      return _this.registerNode(nodeOrOptions);\n    }\n    return function (node) {\n      _this.registerNode(node, nodeOrOptions);\n    };\n  });\n  __publicField(this, \"unregister\", function (node) {\n    _this.descendants.delete(node);\n    var sorted = sortNodes(Array.from(_this.descendants.keys()));\n    _this.assignIndex(sorted);\n  });\n  __publicField(this, \"destroy\", function () {\n    _this.descendants.clear();\n  });\n  __publicField(this, \"assignIndex\", function (descendants) {\n    _this.descendants.forEach(function (descendant) {\n      var index = descendants.indexOf(descendant.node);\n      descendant.index = index;\n      descendant.node.dataset[\"index\"] = descendant.index.toString();\n    });\n  });\n  __publicField(this, \"count\", function () {\n    return _this.descendants.size;\n  });\n  __publicField(this, \"enabledCount\", function () {\n    return _this.enabledValues().length;\n  });\n  __publicField(this, \"values\", function () {\n    var values = Array.from(_this.descendants.values());\n    return values.sort(function (a, b) {\n      return a.index - b.index;\n    });\n  });\n  __publicField(this, \"enabledValues\", function () {\n    return _this.values().filter(function (descendant) {\n      return !descendant.disabled;\n    });\n  });\n  __publicField(this, \"item\", function (index) {\n    if (_this.count() === 0) return void 0;\n    return _this.values()[index];\n  });\n  __publicField(this, \"enabledItem\", function (index) {\n    if (_this.enabledCount() === 0) return void 0;\n    return _this.enabledValues()[index];\n  });\n  __publicField(this, \"first\", function () {\n    return _this.item(0);\n  });\n  __publicField(this, \"firstEnabled\", function () {\n    return _this.enabledItem(0);\n  });\n  __publicField(this, \"last\", function () {\n    return _this.item(_this.descendants.size - 1);\n  });\n  __publicField(this, \"lastEnabled\", function () {\n    var lastIndex = _this.enabledValues().length - 1;\n    return _this.enabledItem(lastIndex);\n  });\n  __publicField(this, \"indexOf\", function (node) {\n    var _a, _b;\n    if (!node) return -1;\n    return (_b = (_a = _this.descendants.get(node)) == null ? void 0 : _a.index) != null ? _b : -1;\n  });\n  __publicField(this, \"enabledIndexOf\", function (node) {\n    if (node == null) return -1;\n    return _this.enabledValues().findIndex(function (i) {\n      return i.node.isSameNode(node);\n    });\n  });\n  __publicField(this, \"next\", function (index) {\n    var loop = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var next = getNextIndex(index, _this.count(), loop);\n    return _this.item(next);\n  });\n  __publicField(this, \"nextEnabled\", function (index) {\n    var loop = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var item = _this.item(index);\n    if (!item) return;\n    var enabledIndex = _this.enabledIndexOf(item.node);\n    var nextEnabledIndex = getNextIndex(enabledIndex, _this.enabledCount(), loop);\n    return _this.enabledItem(nextEnabledIndex);\n  });\n  __publicField(this, \"prev\", function (index) {\n    var loop = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var prev = getPrevIndex(index, _this.count() - 1, loop);\n    return _this.item(prev);\n  });\n  __publicField(this, \"prevEnabled\", function (index) {\n    var loop = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var item = _this.item(index);\n    if (!item) return;\n    var enabledIndex = _this.enabledIndexOf(item.node);\n    var prevEnabledIndex = getPrevIndex(enabledIndex, _this.enabledCount() - 1, loop);\n    return _this.enabledItem(prevEnabledIndex);\n  });\n  __publicField(this, \"registerNode\", function (node, options) {\n    if (!node || _this.descendants.has(node)) return;\n    var keys = Array.from(_this.descendants.keys()).concat(node);\n    var sorted = sortNodes(keys);\n    if (options == null ? void 0 : options.disabled) {\n      options.disabled = !!options.disabled;\n    }\n    var descendant = _objectSpread({\n      node: node,\n      index: -1\n    }, options);\n    _this.descendants.set(node, descendant);\n    _this.assignIndex(sorted);\n  });\n};\nexport { DescendantsManager };","map":null,"metadata":{},"sourceType":"module"}