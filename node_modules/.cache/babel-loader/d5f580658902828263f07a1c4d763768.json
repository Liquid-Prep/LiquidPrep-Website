{"ast":null,"code":"import { focusOn } from './setFocus';\nimport { getTabbableNodes, contains } from './utils/DOMutils';\nvar getRelativeFocusable = function getRelativeFocusable(element, scope) {\n  if (!element || !scope || !contains(scope, element)) {\n    return {};\n  }\n  var focusables = getTabbableNodes([scope], new Map());\n  var current = focusables.findIndex(function (_a) {\n    var node = _a.node;\n    return node === element;\n  });\n  if (current === -1) {\n    return {};\n  }\n  return {\n    prev: focusables[current - 1],\n    next: focusables[current + 1],\n    first: focusables[0],\n    last: focusables[focusables.length - 1]\n  };\n};\nvar defaultOptions = function defaultOptions(options) {\n  return Object.assign({\n    scope: document.body,\n    cycle: true\n  }, options);\n};\n/**\n * focuses next element in the tab-order\n * @param baseElement - common parent to scope active element search or tab cycle order\n * @param {FocusNextOptions} [options] - focus options\n */\nexport var focusNextElement = function focusNextElement(baseElement, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  var _a = defaultOptions(options),\n    scope = _a.scope,\n    cycle = _a.cycle;\n  var _b = getRelativeFocusable(baseElement, scope),\n    next = _b.next,\n    first = _b.first;\n  var newTarget = next || cycle && first;\n  if (newTarget) {\n    focusOn(newTarget.node, options.focusOptions);\n  }\n};\n/**\n * focuses prev element in the tab order\n * @param baseElement - common parent to scope active element search or tab cycle order\n * @param {FocusNextOptions} [options] - focus options\n */\nexport var focusPrevElement = function focusPrevElement(baseElement, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  var _a = defaultOptions(options),\n    scope = _a.scope,\n    cycle = _a.cycle;\n  var _b = getRelativeFocusable(baseElement, scope),\n    prev = _b.prev,\n    last = _b.last;\n  var newTarget = prev || cycle && last;\n  if (newTarget) {\n    focusOn(newTarget.node, options.focusOptions);\n  }\n};","map":null,"metadata":{},"sourceType":"module"}